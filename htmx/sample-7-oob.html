<!doctype html><html lang="ja"><head>
<meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; connect-src 'self'; object-src 'none'; base-uri 'self'; frame-ancestors 'none'; form-action 'self'; upgrade-insecure-requests" />
<title>HTMX 7: OOB Swap</title><link rel="stylesheet" href="../style.css" /><script src="../vendor/htmx.min.js" defer></script>
</head><body><main class="container"><h1>7) OOB Swap</h1><p>1回のレスポンスで複数箇所を同時更新。</p>
<section class="card">
<p>カート内アイテム: <strong id="cart-count">0</strong></p>
<div id="toast">まだ追加していません。</div>
<button class="link-btn" hx-get="fragments/oob/add-item.html" hx-target="#toast" hx-swap="innerHTML">カートに追加</button>
</section>
<section class="card"><h2>解説</h2><ul><li>メイン更新（トースト）に加え、別DOM（カウント）も同時更新。</li><li>ヘッダー通知・カート件数・バッジ更新で特に便利。</li><li>画面全体の整合性を1リクエストで保てる。</li></ul></section>
<section class="card"><h2>このサンプルのコード</h2><pre style="white-space:pre-wrap;overflow:auto;"><code>&lt;div id="toast"&gt;...&lt;/div&gt;
&lt;strong id="cart-count"&gt;0&lt;/strong&gt;

&lt;!-- レスポンス側 --&gt;
&lt;div id="toast"&gt;追加しました&lt;/div&gt;
&lt;strong id="cart-count" hx-swap-oob="true"&gt;1&lt;/strong&gt;</code></pre></section>
<p><a href="index.html">← 一覧へ</a></p></main></body></html>
